I want you to build the COMPLETE STOREFRONT + CUSTOMER ACCOUNT SYSTEM that integrates directly with the Node/Express Dashboard backend you helped me build earlier.

This must not break the existing dashboard flow, but extend it perfectly.

=====================================
1. STORE FRONTEND REQUIREMENTS
=====================================

Build a full storefront with BOTH desktop and mobile responsive views using the same header and footer style already used in the Dashboard UI.

Pages to create:
1. Home Page → / (index.html)

Hero section

Product sections

Featured items

Link to products page

2. Products Page → /products

Grid layout

Mobile list view

Desktop 3 or 4-column grid

“Add to Cart” button

Product detail modal or page (optional)

3. Cart Page → /cart

List items in cart

Remove/update quantity

Cart summary

Checkout button

4. Checkout Page → /checkout

Show order summary

Customer email + phone auto-filled if logged in

If customer not logged in → redirect to login

Payment simulation

After placing order, generate order data and redirect to:

5. Receipt Page → /receipt?id=ORDER_ID

Display order receipt

Download receipt button

Show customer info

Order items, subtotal, total

Receipt ID must be unique

Receipt must be forwarded automatically to dashboard backend

6. My Account Page → /user-account

Display profile

Phone, email, last seen

View Order History

Logout button

Auto logout when idle for 30 minutes

UI Requirements:

Build completely responsive UI

Use the same header/footer structure as the dashboard

Smooth transitions

Mobile-first layout

=====================================
2. CUSTOMER ACCOUNT SYSTEM
=====================================

Create a full authentication system based on:

Sign-Up → Email + Phone only

Fields:

email

phone (this is the login ID)

Validation: unique email + phone

After sign-up:

Generate verification_token

Send verification email

User clicks verify link:
https://storefront-domain.com/verify?token=XXXXXX

Mark verified=true

Automatically sync customer to Dashboard Customers list

OTP Login System Using Phone Number
Login Step 1:

Customer enters phone number → clicks Generate OTP

Backend:

Generate 7-digit OTP

Save in DB:

otp_code

expires_at = now + 10 minutes

used=false

Send OTP to customer’s email

Login Step 2:

Customer enters OTP → verify
If OTP:

matches

not expired

not used

Then:

Create session

Mark customer as active

Redirect to /user-account

If OTP expired:

Require regenerate

Auto-Logout:

If no activity for 30 minutes, auto logout

Must destroy session and redirect to login

Customer Status in Dashboard

The dashboard must see:

Name (optional)

Email

Phone

Total Orders

Total Spent

Last Seen

Status: Active, Inactive, Blocked

Admin must be able to:

View Profile

View Orders

Block Customer

Unblock Customer

When blocked:

Customer cannot generate OTP

Customer login must show:
"Your account is blocked. Contact support."

=====================================
3. ORDER SYSTEM & RECEIPT GENERATION
=====================================
Checkout API:

POST /api/orders/create

Input:

cart items

customer ID from session

shipping info (if needed)

totals

Backend must:

Create order

Generate receipt ID

Save order to database

Forward order to Dashboard Orders DB

Return:

success

receipt_url = /receipt?id=ORDER_ID

Receipt Page:

/receipt?id=ORDER_ID

Must display:

Customer name/email/phone

Order details

Totals

Download as PDF (optional, but structured)

Dashboard Sync:

Every order placed from storefront → automatically inserted to dashboard Orders

Customer's total orders + total spent updated

Last seen updated

=====================================
4. BACKEND FILES REQUIRED
=====================================

Build a full Node/Express backend for storefront with these folders:

/storefront-backend
   /routes
      customers.js
      auth.js
      otp.js
      orders.js
      receipts.js
      session.js
   /controllers
      customersController.js
      authController.js
      otpController.js
      ordersController.js
      receiptsController.js
   /models
      Customer.js
      OTP.js
      Order.js
      Session.js
   /middlewares
      authMiddleware.js
      sessionActivityTracker.js
   /utils
      emailSender.js
      otpGenerator.js
      tokenGenerator.js
      receiptGenerator.js
   server.js


Database tables:

customers

id

email

phone

verified

verification_token

blocked

total_orders

total_spent

last_seen

created_at

customers_otp

id

customer_id

otp_code

expires_at

used

created_at

orders

id

customer_id

items

subtotal

total

created_at

sessions

id

customer_id

last_activity

expires_at

=====================================
5. API ENDPOINTS REQUIRED
=====================================
CUSTOMER

POST /api/customers/signup

GET /api/customers/verify

GET /api/customers/me

AUTH / OTP

POST /api/auth/request-otp

POST /api/auth/verify-otp

POST /api/auth/logout

ORDERS

POST /api/orders/create

GET /api/orders/:id

RECEIPTS

GET /api/receipt/:id

ADMIN (Dashboard Sync)

POST /api/admin/block/:customerId

POST /api/admin/unblock/:customerId

=====================================
6. DELIVERABLES FROM THE AGENT
=====================================

You must generate:

A. Fully working storefront frontend

All 6 pages (desktop + mobile)

Header + footer matching dashboard

Replit-ready static files and routing

B. Fully working Node/Express storefront backend

All routes

All controllers

All models

All middleware

OTP system

Email verification

Order system

Receipt generation

Dashboard syncing

C. Replit Deployment Output

Provide the exact URL to access the storefront

Ensure / loads the Home Page

Ensure all pages are functional

Ensure backend runs on correct port

D. No placeholders

Everything must be real and working.